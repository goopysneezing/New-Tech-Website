<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Technology - szkoły średnie</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="assets/images/logo.png">
    <style>
        /* Specific 404 styles to keep them contained if preferred, or can be moved to style.css */
        .error-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
            text-align: center;
            position: relative;
        }

        .glitch-wrapper {
            font-size: clamp(4rem, 20vw, 8rem);
            font-weight: 800;
            position: relative;
            color: var(--text-main);
            margin-bottom: 20px;
            user-select: none;
            -webkit-user-select: none;
        }

        .glitch {
            position: relative;
            color: var(--text-main);
        }

        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-dark);
        }

        .glitch::before {
            left: 2px;
            text-shadow: -2px 0 #ff00c1;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim 5s infinite linear alternate-reverse;
        }

        .glitch::after {
            left: -2px;
            text-shadow: -2px 0 #00fff9;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim2 5s infinite linear alternate-reverse;
        }

        @keyframes glitch-anim {
            0% {
                clip: rect(21px, 9999px, 87px, 0);
            }

            5% {
                clip: rect(56px, 9999px, 8px, 0);
            }

            10% {
                clip: rect(31px, 9999px, 32px, 0);
            }

            15% {
                clip: rect(62px, 9999px, 43px, 0);
            }

            20% {
                clip: rect(10px, 9999px, 92px, 0);
            }

            25% {
                clip: rect(20px, 9999px, 20px, 0);
            }

            30% {
                clip: rect(90px, 9999px, 100px, 0);
            }

            35% {
                clip: rect(3px, 9999px, 83px, 0);
            }

            40% {
                clip: rect(60px, 9999px, 1px, 0);
            }

            45% {
                clip: rect(98px, 9999px, 99px, 0);
            }

            50% {
                clip: rect(23px, 9999px, 77px, 0);
            }

            55% {
                clip: rect(48px, 9999px, 32px, 0);
            }

            60% {
                clip: rect(3px, 9999px, 96px, 0);
            }

            65% {
                clip: rect(5px, 9999px, 46px, 0);
            }

            70% {
                clip: rect(82px, 9999px, 32px, 0);
            }

            75% {
                clip: rect(92px, 9999px, 4px, 0);
            }

            80% {
                clip: rect(2px, 9999px, 30px, 0);
            }

            85% {
                clip: rect(62px, 9999px, 4px, 0);
            }

            90% {
                clip: rect(51px, 9999px, 36px, 0);
            }

            95% {
                clip: rect(11px, 9999px, 69px, 0);
            }

            100% {
                clip: rect(78px, 9999px, 95px, 0);
            }
        }

        @keyframes glitch-anim2 {
            0% {
                clip: rect(2px, 9999px, 97px, 0);
            }

            5% {
                clip: rect(37px, 9999px, 8px, 0);
            }

            10% {
                clip: rect(4px, 9999px, 66px, 0);
            }

            15% {
                clip: rect(75px, 9999px, 97px, 0);
            }

            20% {
                clip: rect(20px, 9999px, 9px, 0);
            }

            25% {
                clip: rect(85px, 9999px, 49px, 0);
            }

            30% {
                clip: rect(48px, 9999px, 9px, 0);
            }

            35% {
                clip: rect(42px, 9999px, 88px, 0);
            }

            40% {
                clip: rect(3px, 9999px, 83px, 0);
            }

            45% {
                clip: rect(66px, 9999px, 3px, 0);
            }

            50% {
                clip: rect(56px, 9999px, 20px, 0);
            }

            55% {
                clip: rect(97px, 9999px, 9px, 0);
            }

            60% {
                clip: rect(23px, 9999px, 40px, 0);
            }

            65% {
                clip: rect(78px, 9999px, 2px, 0);
            }

            70% {
                clip: rect(24px, 9999px, 2px, 0);
            }

            75% {
                clip: rect(3px, 9999px, 6px, 0);
            }

            80% {
                clip: rect(38px, 9999px, 45px, 0);
            }

            85% {
                clip: rect(76px, 9999px, 30px, 0);
            }

            90% {
                clip: rect(23px, 9999px, 92px, 0);
            }

            95% {
                clip: rect(98px, 9999px, 42px, 0);
            }

            100% {
                clip: rect(5px, 9999px, 49px, 0);
            }
        }

        .msg {
            font-size: 1.5rem;
            color: var(--neon-blue);
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.4);
            margin-bottom: 40px;
            animation: breathe 4s ease-in-out infinite;
        }

        @keyframes breathe {

            0%,
            100% {
                opacity: 0.7;
                text-shadow: 0 0 10px rgba(0, 243, 255, 0.4);
            }

            50% {
                opacity: 1;
                text-shadow: 0 0 20px rgba(0, 243, 255, 0.8);
            }
        }

        .red-ominous {
            color: #ff3333;
            text-shadow: 0 0 15px rgba(255, 0, 0, 0.6);
        }

        /* Fix vertical alignment to account for fixed header and footer */
        body.home main {
            padding-top: 140px;
            padding-bottom: 80px;
        }

        @media (max-width: 900px) {
            body.home main {
                padding-top: 120px;
                padding-bottom: 80px;
            }
        }

        @media (max-width: 768px) {
            body.home main {
                padding-top: 100px;
                padding-bottom: 70px;
            }
        }
    </style>
    <style>
        /* 3D Cube Styles */
        .scene {
            width: 100vw;
            height: 100vh;
            perspective: 1200px;
            display: none;
            /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            z-index: 9999;
            background: #000;
            /* Assuming dark theme background */
            justify-content: center;
            align-items: center;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        .scene.active {
            display: flex;
        }

        .cube {
            width: 80vw;
            height: 80vh;
            max-width: 600px;
            max-height: 600px;
            position: relative;
            transform-style: preserve-3d;
            transform: translateZ(-300px);
            /* Push back slightly */
            transition: transform 0.1s;
            /* Smooth rotation */
        }

        .cube-face {
            position: absolute;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid var(--neon-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            backface-visibility: visible;
            /* Show back of faces */
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
            overflow: hidden;
        }

        /* Ensure content fits */
        .cube-face .error-container {
            transform: scale(0.8);
            /* Scale down content slightly to fit */
            width: 100%;
        }

        /* Face transforms */
        /* Front */
        .cube-face-front {
            transform: rotateY(0deg) translateZ(300px);
        }

        /* Right */
        .cube-face-right {
            transform: rotateY(90deg) translateZ(300px);
        }

        /* Back */
        .cube-face-back {
            transform: rotateY(180deg) translateZ(300px);
        }

        /* Left */
        .cube-face-left {
            transform: rotateY(-90deg) translateZ(300px);
        }

        /* Top */
        .cube-face-top {
            transform: rotateX(90deg) translateZ(300px);
        }

        /* Bottom */
        .cube-face-bottom {
            transform: rotateX(-90deg) translateZ(300px);
        }

        /* Responsive adjustments for cube size */
        @media (max-width: 600px) {
            .cube {
                width: 300px;
                height: 300px;
            }

            .cube-face-front {
                transform: rotateY(0deg) translateZ(150px);
            }

            .cube-face-right {
                transform: rotateY(90deg) translateZ(150px);
            }

            .cube-face-back {
                transform: rotateY(180deg) translateZ(150px);
            }

            .cube-face-left {
                transform: rotateY(-90deg) translateZ(150px);
            }

            .cube-face-top {
                transform: rotateX(90deg) translateZ(150px);
            }

            .cube-face-bottom {
                transform: rotateX(-90deg) translateZ(150px);
            }

            .cube-face .error-container {
                transform: scale(0.5);
            }
        }
    </style>
</head>

<body class="home">

    <div id="nav-placeholder"></div>

    <main>
        <section class="error-container">
            <div class="glitch-wrapper">
                <div class="glitch" data-text="404">404</div>
            </div>

            <p class="msg">
                Ta strona nie istnieje.<br>
                <span style="font-size: 0.9rem; color: #666;">???</span>
            </p>

            <a href="index.html" class="btn">Wróć do strony głównej</a>
        </section>
    </main>

    <div id="footer-placeholder"></div>

    <script src="assets/js/script.js"></script>
    <script>
        // Randomize the message
        const messages = [
            "nah",
            "ajajaj",
            "spooky",
            "bolong",
            "amazing",
            "bad piggies?",
            "four o four"
        ];
        const msgSpan = document.querySelector('.msg span');
        if (msgSpan) {
            msgSpan.textContent = messages[Math.floor(Math.random() * messages.length)];
        }

        // Additional little ominous script for random flickering
        const msg = document.querySelector('.msg');
        setInterval(() => {
            if (Math.random() > 0.95) {
                msg.style.opacity = Math.random();
            } else {
                msg.style.opacity = ''; // Reset to animation
            }
        }, 100);

        // Easter Egg: Flip the site upside down after 5 clicks on "404"
        const glitchElement = document.querySelector('.glitch-wrapper'); // Or .glitch, wrapper is easier to click
        let clickCount = 0;

        if (glitchElement) {
            glitchElement.addEventListener('click', () => {
                clickCount++;
                if (clickCount === 5) {
                    document.body.classList.toggle('flipped');
                    clickCount = 0; // Reset counter so they can flip it back with another 5 clicks
                }
            });
            // Make it look clickable
            glitchElement.style.cursor = 'pointer';
        }

        // Cube Easter Egg
        function initCubeEasterEgg() {
            // Wait for footer to be injected
            const observer = new MutationObserver((mutations) => {
                const footerP = document.querySelector('footer p');
                if (footerP) {
                    setupCopyrightClick(footerP);
                    observer.disconnect();
                }
            });

            observer.observe(document.body, { childList: true, subtree: true });

            // In case it's already there
            const footerP = document.querySelector('footer p');
            if (footerP) setupCopyrightClick(footerP);
        }

        function setupCopyrightClick(element) {
            let clicks = 0;
            element.addEventListener('click', (e) => {
                // Prevent default selection if user clicks fast
                if (e.detail > 1) e.preventDefault();

                clicks++;
                if (clicks === 5) {
                    activateCubeMode();
                    clicks = 0;
                }
            });
            // Ensure it doesn't look clickable (no cursor pointer) as requested "no indicators"
            element.style.cursor = 'text';
            element.style.userSelect = 'none';
        }

        function activateCubeMode() {
            // Check if scene already exists
            if (document.querySelector('.scene')) return;

            // Hide normal content
            document.querySelector('main').style.display = 'none';
            const nav = document.getElementById('nav-placeholder');
            const footer = document.getElementById('footer-placeholder');
            if (nav) nav.style.display = 'none';
            if (footer) footer.style.display = 'none';

            // Create Cube Scene
            const scene = document.createElement('div');
            scene.classList.add('scene', 'active');

            const cube = document.createElement('div');
            cube.classList.add('cube');

            const faces = ['front', 'back', 'right', 'left', 'top', 'bottom'];
            const content = document.querySelector('.error-container').innerHTML;

            faces.forEach(face => {
                const faceDiv = document.createElement('div');
                faceDiv.classList.add('cube-face', `cube-face-${face}`);

                const contentWrapper = document.createElement('div');
                contentWrapper.classList.add('error-container');
                contentWrapper.innerHTML = content;
                // Remove the button from faces to avoid navigation out
                const btn = contentWrapper.querySelector('.btn');
                if (btn) btn.remove();

                faceDiv.appendChild(contentWrapper);
                cube.appendChild(faceDiv);
            });

            scene.appendChild(cube);
            document.body.appendChild(scene);

            // Spin Logic
            let isDragging = false;
            let startX, startY;
            let currentX = -30, currentY = 45; // Initial nice angle
            let rotateY = -30, rotateX = 45;
            let autoSpinActive = true;
            let animationId;

            // Auto-spin function
            function animate() {
                if (autoSpinActive) {
                    rotateY += 0.5; // Adjust speed here
                    cube.style.transform = `translateZ(-300px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                    // Update currentX so when user grabs it, it doesn't snap back
                    currentX = rotateY;
                    animationId = requestAnimationFrame(animate);
                }
            }

            // Start auto-spin
            animate();

            function stopAutoSpin() {
                if (autoSpinActive) {
                    autoSpinActive = false;
                    cancelAnimationFrame(animationId);
                }
            }

            // Mouse Events
            document.addEventListener('mousedown', (e) => {
                stopAutoSpin();
                isDragging = true;
                startX = e.clientX;
                startY = e.clientY;
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                const deltaX = e.clientX - startX;
                const deltaY = e.clientY - startY;

                rotateY = currentX + deltaX * 0.5;
                rotateX = currentY - deltaY * 0.5;

                cube.style.transform = `translateZ(-300px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
                currentX = rotateY;
                currentY = rotateX;
            });

            // Touch Events
            document.addEventListener('touchstart', (e) => {
                stopAutoSpin();
                isDragging = true;
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
            });

            document.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                const deltaX = e.touches[0].clientX - startX;
                const deltaY = e.touches[0].clientY - startY;

                rotateY = currentX + deltaX * 0.5;
                rotateX = currentY - deltaY * 0.5;

                cube.style.transform = `translateZ(-300px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            });

            document.addEventListener('touchend', () => {
                isDragging = false;
                currentX = rotateY;
                currentY = rotateX;
            });

            // Set initial rotation (handled by animate loop now, but good fallback)
            // cube.style.transform = `translateZ(-300px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
        }

        initCubeEasterEgg();
    </script>
</body>

</html>